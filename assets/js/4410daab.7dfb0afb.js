"use strict";(self.webpackChunkkie_site=self.webpackChunkkie_site||[]).push([[9156],{1674:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});var i=n(4848),o=n(8453);const s={id:"drools_upgrade_recipe",title:"Upgrade Recipe",sidebar_position:1},a="Upgrade Recipe",t={id:"components/drools/drools_upgrade_recipe",title:"Upgrade Recipe",description:"For migration to 10.0.0 or later, please refer to the Migration Guide.",source:"@site/docs/components/drools/upgrade_recipe.mdx",sourceDirName:"components/drools",slug:"/components/drools/drools_upgrade_recipe",permalink:"/docs/components/drools/drools_upgrade_recipe",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"drools_upgrade_recipe",title:"Upgrade Recipe",sidebar_position:1},sidebar:"componentsSidebar",previous:{title:"Papers",permalink:"/docs/components/drools/drools_papers"},next:{title:"Videos",permalink:"/docs/components/drools/drools_videos"}},d={},c=[{value:"Legend",id:"legend",level:2},{value:"Backwards incompatible changes to the public API",id:"backwards-incompatible-changes-to-the-public-api",level:2},{value:"From 6.5.0.Final to 7.0.0.Final",id:"from-650final-to-700final",level:2},{value:"[Public API] [Major] Java 8 or higher required",id:"public-api-major-java-8-or-higher-required",level:3},{value:"[Public API] [Major] OSGi integration artifacts renamed",id:"public-api-major-osgi-integration-artifacts-renamed",level:3},{value:"[Public API] [Major] KIE Drools Workbench WARs renamed",id:"public-api-major-kie-drools-workbench-wars-renamed",level:3}];function l(e){const r={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"upgrade-recipe",children:"Upgrade Recipe"}),"\n",(0,i.jsxs)(r.p,{children:["For migration to 10.0.0 or later, please refer to the ",(0,i.jsx)(r.a,{href:"https://kie.apache.org/docs/10.0.x/drools/drools/migration-guide/index.html",children:"Migration Guide"}),"."]}),"\n",(0,i.jsx)(r.h1,{id:"upgrade-recipe-70",children:"Upgrade recipe 7.0"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"KIE public API classes are backwards compatible"})," (per series), but users often also use implementation classes (which are documented in the reference manual too). This upgrade recipe ",(0,i.jsx)(r.em,{children:"minimizes the pain"})," to upgrade your code."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"legend",children:"Legend"}),"\n",(0,i.jsx)(r.p,{children:"Every upgrade note has an indication how likely your code will be affected by that change:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Major"}),": Likely to affect your code."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Minor"}),": Unlikely to affect your code (especially if you followed the examples), unless you have hacks."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Impl detail"}),": Will not affect your code, unless you have very deep hacks."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Recommended"}),": Not a backward incompatible change, but you probably want to do this."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Readme"}),": Read this to better understand why the subsequent major changes were made."]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"backwards-incompatible-changes-to-the-public-api",children:"Backwards incompatible changes to the public API"}),"\n",(0,i.jsxs)(r.p,{children:["Because this is a new major version number (7.0), which is the foundation for the 7.x series for the next few years, it allows us to make backwards incompatible changes to the public API ",(0,i.jsx)(r.em,{children:"for the long term benefit of this project"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"Our current intention is to keep these backwards incompatible changes to a strict minimum (by favoring deprecation over removal) and do not introduce any additional ones after 7.0."}),"\n",(0,i.jsxs)(r.p,{children:["Any backwards incompatible changes are annotated with a ",(0,i.jsx)(r.strong,{children:"Public API"})," badge."]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"from-650final-to-700final",children:"From 6.5.0.Final to 7.0.0.Final"}),"\n",(0,i.jsx)(r.h3,{id:"public-api-major-java-8-or-higher-required",children:"[Public API] [Major] Java 8 or higher required"}),"\n",(0,i.jsx)(r.p,{children:"If you\u2019re using JRE or JDK 6 or 7, upgrade to JDK 8 or higher."}),"\n",(0,i.jsx)(r.p,{children:"We currently intend to support a minimal version of Java 8 throughout the entire 7.x series."}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h3,{id:"public-api-major-osgi-integration-artifacts-renamed",children:"[Public API] [Major] OSGi integration artifacts renamed"}),"\n",(0,i.jsxs)(r.p,{children:["OSGi integration artifacts were renamed from ",(0,i.jsx)(r.code,{children:"drools-*"})," to ",(0,i.jsx)(r.code,{children:"kie-*"}),". We have also renamed the Java package names from ",(0,i.jsx)(r.code,{children:"org.drools.osgi"})," to ",(0,i.jsx)(r.code,{children:"org.kie.osgi"}),". The main reason for these changes is that the artifacts no longer contain just Drools-specific code, but also jBPM and OptaPlanner OSGi integration (KIE is the umbrella term for those three projects). The change affects ",(0,i.jsx)(r.code,{children:"drools-osgi-integration"})," Maven artifact, Karaf features file URL and Spring\u2019s ",(0,i.jsx)(r.code,{children:"OsgiKModuleBeanFactoryPostProcessor"}),":"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["Before in ",(0,i.jsx)(r.code,{children:"pom.xml"}),":"]})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.drools</groupId>\n  <artifactId>drools-osgi-integration</artifactId>\n  <version>6.5.0.Final</version>\n</dependency>\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["After in ",(0,i.jsx)(r.code,{children:"pom.xml"}),":"]})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.kie</groupId>\n  <artifactId>kie-osgi-integration</artifactId>\n  <version>7.0.0.Final</version>\n</dependency>\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Before when using Karaf features file:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-shell",children:"features:addurl mvn:org.drools/drools-karaf-features/6.5.0.Final/xml/features\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"After when using Karaf features file:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-shell",children:"features:addurl mvn:org.kie/kie-karaf-features/7.0.0.Beta2/xml/features\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Before in Spring configuration file:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'<bean id="kiePostProcessor" class="org.drools.osgi.spring.OsgiKModuleBeanFactoryPostProcessor"/>\n'})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"After in Spring configuration file:"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:'<bean id="kiePostProcessor" class="org.kie.osgi.spring.OsgiKModuleBeanFactoryPostProcessor"/>\n'})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h3,{id:"public-api-major-kie-drools-workbench-wars-renamed",children:"[Public API] [Major] KIE Drools Workbench WARs renamed"}),"\n",(0,i.jsx)(r.p,{children:"The KIE Drools Workbench WARs were renamed from:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"kie-drools-wb-distribution-wars-<version>-<container>.war\n"})}),"\n",(0,i.jsx)(r.p,{children:"to:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"kie-drools-wb-<version>-<container>.war\n"})}),"\n",(0,i.jsxs)(r.p,{children:["If you depend directly on the Maven GAV you need to change the ",(0,i.jsx)(r.code,{children:"artifactId"}),":"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["Before in ",(0,i.jsx)(r.code,{children:"pom.xml"}),":"]})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.kie</groupId>\n  <artifactId>kie-drools-wb-distribution-wars</artifactId>\n  <version>6.5.0.Final</version>\n  <type>war</type>\n  <classifier>wildfly10</classifier>\n</dependency>\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["After in ",(0,i.jsx)(r.code,{children:"pom.xml"}),":"]})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xml",children:"<dependency>\n  <groupId>org.kie</groupId>\n  <artifactId>kie-drools-wb</artifactId>\n  <version>7.0.0.Final</version>\n  <type>war</type>\n  <classifier>wildfly10</classifier>\n</dependency>\n"})})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>t});var i=n(6540);const o={},s=i.createContext(o);function a(e){const r=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:r},e.children)}}}]);